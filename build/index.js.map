{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./src/components/SalesByRegionReport/SalesByRegionReport.js","webpack:///./src/index.js","webpack:///./src/index.scss","webpack:///./src/mockData.js","webpack:///external [\"wc\",\"components\"]","webpack:///external [\"wc\",\"currency\"]","webpack:///external [\"wc\",\"date\"]","webpack:///external [\"wc\",\"wcSettings\"]","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"hooks\"]","webpack:///external [\"wp\",\"i18n\"]"],"names":["SalesByRegionReport","ReactComponent","constructor","props","dateQuery","createDateQuery","query","console","log","storeCurrency","Currency","storeCurrencySetting","state","currency","data","mockData","handleDateChange","bind","period","compare","before","after","getDateParamsFromQuery","primary","primaryDate","secondary","secondaryDate","getCurrentDates","newQuery","newDateQuery","setState","render","reportFilters","path","isoDateFormat","totals","total_sales","__","countries","orders","addFilter","reports","report","title","component"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import {Component as ReactComponent, Fragment} from '@wordpress/element';\r\nimport {mockData} from '../../mockData';\r\n\r\nimport {ChartPlaceholder, ReportFilters, SummaryList, SummaryListPlaceholder, SummaryNumber, TablePlaceholder} \r\nfrom '@woocommerce/components';\r\nimport {__} from '@wordpress/i18n';\r\nimport {appendTimestamp, getCurrentDates, getDateParamsFromQuery, isoDateFormat} from '@woocommerce/date';\r\nimport {default as Currency} from '@woocommerce/currency';\r\nimport {CURRENCY as storeCurrencySetting} from '@woocommerce/settings';     \r\n\r\nexport class SalesByRegionReport extends ReactComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const dateQuery = this.createDateQuery(this.props.query);\r\n        console.log(\"dateQuery\", dateQuery);\r\n        const storeCurrency = new Currency(storeCurrencySetting);\r\n        this.state = {\r\n            dateQuery: dateQuery,\r\n            currency: storeCurrency,\r\n            data: mockData\r\n        }\r\n        this.handleDateChange = this.handleDateChange.bind(this);\r\n    }\r\n\r\n    createDateQuery(query) {\r\n        console.log(\"query1\", query);\r\n        const {period, compare, before, after} = getDateParamsFromQuery(query);\r\n        const {primary: primaryDate, secondary: secondaryDate} = getCurrentDates(query);\r\n        return {period, compare, before, after, primaryDate, secondaryDate};\r\n    }\r\n\r\n    handleDateChange(newQuery) {\r\n        console.log(\"debug2\"  , this, newQuery);\r\n        const newDateQuery = this.createDateQuery(newQuery);\r\n        this.setState({dateQuery: newDateQuery});\r\n        //this.fetchData(newDateQuery);\r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n\r\n   \r\n        console.log(\"rendering\", \"props\", this.props,);\r\n        console.log(\"rendering\", \"state\",this.state);\r\n        const reportFilters =\r\n            <ReportFilters\r\n                dateQuery={this.state.dateQuery}\r\n                query={this.props.query}\r\n                path={this.props.path}\r\n                currency={this.state.currency}\r\n                isoDateFormat={isoDateFormat}\r\n                onDateSelect={this.handleDateChange}\r\n                />;\r\n\r\n        const {data, currency} = this.state;\r\n        return <Fragment>\r\n            {reportFilters}\r\n            <SummaryList>\r\n                {() => [\r\n                    <SummaryNumber key='sales'\r\n                                    value={currency.render(data.totals.total_sales)}\r\n                                    label={__('Total Sales', 'sales-by-region')}/>,\r\n                    <SummaryNumber key='countries'\r\n                                    value={data.totals.countries}\r\n                                    label={__('Countries', 'sales-by-region')}/>,\r\n                    <SummaryNumber key='orders'\r\n                                    value={data.totals.orders}\r\n                                    label={__('Orders', 'sales-by-region')}/>\r\n                ]}\r\n            </SummaryList>\r\n        </Fragment>\r\n    }\r\n}","// Import SCSS entry file so that webpack picks up changes\r\nimport './index.scss';\r\nimport {addFilter} from '@wordpress/hooks';\r\nimport {__} from '@wordpress/i18n';\r\nimport {Component as ReactComponent} from '@wordpress/element';\r\nimport {SalesByRegionReport} from \"./components/SalesByRegionReport/SalesByRegionReport\";\r\n\r\nconsole.log( 'hello world' );\r\n\r\n\r\n\r\n//https://developer.wordpress.org/block-editor/reference-guides/packages/packages-hooks/#api-usage\r\naddFilter('woocommerce_admin_reports_list', 'sales-by-region', (reports) => {\r\n    return [\r\n        ...reports,\r\n        {\r\n            report: 'sales-by-region',\r\n            title: __('Sales by Region', 'sales-by-region'),\r\n            component: SalesByRegionReport\r\n        },\r\n    ];\r\n});\r\n","// extracted by mini-css-extract-plugin\nexport {};","export const mockData = {\r\n    \"countries\": [\r\n        {\r\n            \"country\": \"France\",\r\n            \"country_code\": \"FR\",\r\n            \"sales\": 33023.23,\r\n            \"sales_percentage\": 50.37,\r\n            \"orders\": 4,\r\n            \"average_order_value\": 8255.8075\r\n        },\r\n        {\r\n            \"country\": \"South Korea\",\r\n            \"country_code\": \"KR\",\r\n            \"sales\": 3760.72,\r\n            \"sales_percentage\": 5.73,\r\n            \"orders\": 1,\r\n            \"average_order_value\": 3760.72\r\n        },\r\n        {\r\n            \"country\": \"Canada\",\r\n            \"country_code\": \"CA\",\r\n            \"sales\": 1957.3,\r\n            \"sales_percentage\": 2.98,\r\n            \"orders\": 6,\r\n            \"average_order_value\": 326.27\r\n        },\r\n        {\r\n            \"country\": \"Russia\",\r\n            \"country_code\": \"RU\",\r\n            \"sales\": 607.44,\r\n            \"sales_percentage\": 0.92,\r\n            \"orders\": 3,\r\n            \"average_order_value\": 202.48\r\n        },\r\n        {\r\n            \"country\": \"Croatia\",\r\n            \"country_code\": \"HR\",\r\n            \"sales\": 26225.58,\r\n            \"sales_percentage\": 40.00,\r\n            \"orders\": 2,\r\n            \"average_order_value\": 13112.79\r\n        }\r\n    ],\r\n    \"totals\": {\r\n        \"total_sales\": 65574.27,\r\n        \"orders\": 16,\r\n        \"countries\": 5\r\n    },\r\n    \"loading\": false\r\n};// JavaScript Document\r\n","(function() { module.exports = window[\"wc\"][\"components\"]; }());","(function() { module.exports = window[\"wc\"][\"currency\"]; }());","(function() { module.exports = window[\"wc\"][\"date\"]; }());","(function() { module.exports = window[\"wc\"][\"wcSettings\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"hooks\"]; }());","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());"],"sourceRoot":""}